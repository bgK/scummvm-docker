version: "3"

services:
  web:
    restart: always

  buildbot:
    restart: always
    environment:
      # BUILDBOT_IRC_CHANNEL: "#scummvm"
      # BUILDBOT_IRC_USERNAME: ScummBot
      BUILDBOT_REPO_URL: https://github.com/scummvm/scummvm.git
      BUILDBOT_WEB_URL: https://buildbot.scummvm.org/
      SCUMMVM_DEV_ENV: 0
      SCUMMVM_SNAPSHOTS_URL: https://buildbot.scummvm.org/snapshots/

  buildbot-amigaos:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-android:
    environment:
      WORKER_HOST: vm2
    restart: always

  buildbot-debian-x86_64:
    environment:
      WORKER_HOST: vm2
    restart: always

  buildbot-debian-x86:
    environment:
      WORKER_HOST: vm2
    restart: always

  buildbot-dreamcast:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-freemint:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-gcw0:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-haiku:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-ios:
    environment:
      WORKER_HOST: vm2
    restart: always

  buildbot-maemo:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-macos:
    environment:
      WORKER_HOST: vm2
    restart: always

  buildbot-nintendo:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-psp:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-ps3:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-raspberrypi:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-vita:
    environment:
      WORKER_HOST: vm1
    restart: always

  buildbot-windows:
    environment:
      WORKER_HOST: vm2
    restart: always
